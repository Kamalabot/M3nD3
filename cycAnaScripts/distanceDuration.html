<!DOCTYPE html>
<html lang="en">

<head>
    <title>Scatter Plot</title>
    <link rel="stylesheet" href="tachyons.min.css">
    <script src="d3.min.js"></script>
</head>

<body class="calisto pa1">
    <div class="mw9 center">
        <h1 class="f1 tc">Distance Vs Duration Scatter</h1>
        <div class="flex ph2 flex-wrap">
            <p class="f4 lh-copy measure-narrow fl">Scatter plot between Haversign Distance and the Trip Duration from the Google Analytics Course. 
                Trip duration is given in seconds.
                While the Haversign distance is calculated from the lattitude and longitude coordinates.
            </p>
            <p class="f4 lh-copy measure fl">Before deciding on Haversign distance, I planned to use the Google maps api
                to get exact distance
                between the two coordinates. Additional steps through the API felt unnecessary at the beginning of the
                analysis. Searched Stack overflow
                and found <a
                    href="https://stackoverflow.com/questions/14588829/travel-distance-between-two-lat-and-long"
                    class="link black no-underline hover-bg-yellow">Haversign Distance function</a>
            </p>
        </div>
    </div>
    <div class="mw9 center ph1-ns">
        <div class="cf ph1-ns">
            <div class="fl w-100 w-50-l pa1 tc">
                <div class="pv4 tc">
                    <h1 class="f3 lh-title">Pseudo Code</h1>
                    <p class="tl lh-copy">Representing the distance and duration makes the data very physical in nature, because of the involvement
                        of time and distance dimensions. Lets dive into the Pseudo code of bringing the scatter plot on to the svg.
                    </p>
                    <h2 class="f6 tl">Steps Involved</h2>
                    <ul>
                        <li class="lh-copy tl">Create g elements to hold the axes. Append the g elements to the svg by selecting the id = "scatter"</li>
                        <li class="lh-copy tl">Build x, y linear scales with the range set between the available margins </li>
                        <li class="lh-copy tl">Circles can be easier since the center along with radius does the trick
                        </li>
                        <li class="lh-copy tl">Rect can be of any width and start from any coordinates. Creating another
                            rect</li>
                        <li class="lh-copy tl">Circle is copied and the center coordinate is shifted</li>
                        <li class="lh-copy tl">Other two rectangles are similarly copied and moved</li>

                    </ul>
                </div>
            </div>
            <div class="fl w-100 w-50-l pa1 tc">
                <div class="pv4">
                    <h1 class="f3 lh-title">Chart</h1>
                    <svg width="500" height="300" id="scatter"></svg>
                </div>
                <script src="duraDistScatter.js"></script>
            </div>
        </div>
        <div class="cf ph1-ns">
            <div class="fl w-100 w-50-l pa1 tc">
                <div class="pv4">
                    <h1 class="f3 lh-title">Data Format</h1>
                    <p class="tl f4 lh-copy measure">Data to make the shape is randomly imagined. It is formatted into
                        X, Y and width, height
                        or radius in case of circle.There is data involved in the fills too. The location of the mid
                        rectangle is colored "Red"
                        and the bottom circle is colored green</p>
                        <p class="f4 tl w-100 ttc fw6">The Haversign Function</p>
                        <pre class="athelas tl f5"><code  id="javascript">
                            rad = function(x) {return x*Math.PI/180;}
                            distHaversine = function(p1, p2) {
                            var R = 6371; // earth's mean radius in km
                            var dLat  = rad(p2.lat() - p1.lat());
                            var dLong = rad(p2.lng() - p1.lng());
            
                            var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                                    Math.cos(rad(p1.lat())) * Math.cos(rad(p2.lat())) * Math.sin(dLong/2) * Math.sin(dLong/2);
                            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                            var dist = R * c;
            
                            return dist.toFixed(3);
                            }
                        </code></pre>
                </div>
            </div>
            <div class="fl w-100 w-50-l pa1 tc">
                <div class="pv4">
                    <h1 class="f3 lh-title">Code</h1>
                    <code class="pa3 b--black-10 h5 bg-white-20" id="js">
                            &ltsvg width="500" height="300"&gt
                                &ltrect width="100" height="100" x="0" y="0" /&gt
                                &ltrect width="100" height="100" x="50" y="50" fill="red" /&gt
                                &ltcircle cx="150" cy="150" r="50" fill="green" /&gt
                                &ltcircle cx="300" cy="150" r="50" fill="green" /&gt
                                &ltrect width="150" height="20" x="150" y="140" fill="red" /&gt
                                &ltrect width="100" height="100" x="350" y="0" /&gt
                                &ltrect width="100" height="100" x="300" y="50" fill="red" /&gt
                            &lt/svg&gt
                        </code>
                </div>
            </div>
        </div>
    </div>
</body>

</html>